'use strict';

const {
  promises: dns
} = require('dns');

const React = require('react');

const {
  useState,
  useEffect
} = require('react');

const {
  Box,
  Text,
  Newline,
  useApp,
  useStdout
} = require('ink');

const Spinner = require('ink-spinner').default;

const api = require('./api.js');

const {
  convertToMpbs
} = require('./utilities.js');

const FixedSpacer = ({
  size
}) => /*#__PURE__*/React.createElement(React.Fragment, null, ' '.repeat(size));

const ErrorMessage = ({
  text
}) => /*#__PURE__*/React.createElement(Box, null, /*#__PURE__*/React.createElement(Text, {
  bold: true,
  color: "red"
}, "\u203A", /*#__PURE__*/React.createElement(FixedSpacer, {
  size: 1
})), /*#__PURE__*/React.createElement(Text, {
  dimColor: true
}, text), /*#__PURE__*/React.createElement(Newline, {
  count: 2
}));

const Spacer = ({
  singleLine
}) => {
  if (singleLine) {
    return null;
  }

  return /*#__PURE__*/React.createElement(Text, null, /*#__PURE__*/React.createElement(Newline, {
    count: 1
  }));
};

const DownloadSpeed = ({
  isDone,
  downloadSpeed,
  uploadSpeed,
  downloadUnit
} = {}) => {
  const color = isDone || uploadSpeed ? 'green' : 'cyan';
  return /*#__PURE__*/React.createElement(Text, {
    color: color
  }, downloadSpeed, /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 1
  }), /*#__PURE__*/React.createElement(Text, {
    dimColor: true
  }, downloadUnit), /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 1
  }), "\u2193");
};

const UploadSpeed = ({
  isDone,
  uploadSpeed,
  uploadUnit
} = {}) => {
  const color = isDone ? 'green' : 'cyan';

  if (uploadSpeed) {
    return /*#__PURE__*/React.createElement(Text, {
      color: color
    }, uploadSpeed, /*#__PURE__*/React.createElement(Text, {
      dimColor: true
    }, ` ${uploadUnit} ↑`));
  }

  return /*#__PURE__*/React.createElement(Text, {
    dimColor: true,
    color: color
  }, ' - Mbps ↑');
};

const Speed = ({
  upload,
  data
}) => upload ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DownloadSpeed, data), /*#__PURE__*/React.createElement(Text, {
  dimColor: true
}, ' / '), /*#__PURE__*/React.createElement(UploadSpeed, data)) : /*#__PURE__*/React.createElement(DownloadSpeed, data);

const Fast = ({
  singleLine,
  upload,
  json
}) => {
  const [error, setError] = useState('');
  const [data, setData] = useState({});
  const [isDone, setIsDone] = useState(false);
  const {
    exit
  } = useApp();
  const {
    write
  } = useStdout();
  useEffect(() => {
    (async () => {
      try {
        await dns.lookup('fast.com');
      } catch (error) {
        setError(error.code === 'ENOTFOUND' ? 'Please check your internet connection' : `Something happened ${JSON.stringify(error)}`);
        exit();
        return;
      } // eslint-disable-next-line unicorn/no-array-for-each


      api({
        measureUpload: upload
      }).forEach(result => {
        if (!upload) {
          delete result.uploaded;
          delete result.uploadUnit;
          delete result.uploadSpeed;
        }

        setData(result);
      }).catch(error_ => {
        // eslint-disable-line promise/prefer-await-to-then
        setError(error_.message);
        exit();
      });
    })();
  }, [exit, upload]);
  useEffect(() => {
    if (data.isDone || !upload && data.uploadSpeed) {
      setIsDone(true);
    }
  }, [data.isDone, upload, data.uploadSpeed]);
  useEffect(() => {
    if (isDone) {
      if (json) {
        delete data.isDone;
        data.downloadSpeed = convertToMpbs(data.downloadSpeed, data.downloadUnit);
        delete data.downloadUnit;

        if (upload) {
          data.uploadSpeed = convertToMpbs(data.uploadSpeed, data.uploadUnit);
          delete data.uploadUnit;
        }

        write(JSON.stringify(data, undefined, '\t'));
      }

      exit();
    } // eslint-disable-next-line react-hooks/exhaustive-deps

  }, [isDone, exit]);

  if (error) {
    return /*#__PURE__*/React.createElement(ErrorMessage, {
      text: error
    });
  }

  if (json) {
    return null;
  }

  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Spacer, {
    singleLine: singleLine
  }), /*#__PURE__*/React.createElement(Box, null, !isDone && /*#__PURE__*/React.createElement(React.Fragment, null, !singleLine && /*#__PURE__*/React.createElement(Text, null, /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 2
  })), /*#__PURE__*/React.createElement(Text, {
    color: "cyan"
  }, /*#__PURE__*/React.createElement(Spinner, null)), /*#__PURE__*/React.createElement(Text, null, /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 1
  }))), isDone && /*#__PURE__*/React.createElement(Text, null, /*#__PURE__*/React.createElement(FixedSpacer, {
    size: 4
  })), Object.keys(data).length > 0 && /*#__PURE__*/React.createElement(Speed, {
    upload: upload,
    data: data
  })), /*#__PURE__*/React.createElement(Spacer, {
    singleLine: singleLine
  }));
};

module.exports = Fast;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9taXNlcyIsImRucyIsInJlcXVpcmUiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiQm94IiwiVGV4dCIsIk5ld2xpbmUiLCJ1c2VBcHAiLCJ1c2VTdGRvdXQiLCJTcGlubmVyIiwiZGVmYXVsdCIsImFwaSIsImNvbnZlcnRUb01wYnMiLCJGaXhlZFNwYWNlciIsInNpemUiLCJyZXBlYXQiLCJFcnJvck1lc3NhZ2UiLCJ0ZXh0IiwiU3BhY2VyIiwic2luZ2xlTGluZSIsIkRvd25sb2FkU3BlZWQiLCJpc0RvbmUiLCJkb3dubG9hZFNwZWVkIiwidXBsb2FkU3BlZWQiLCJkb3dubG9hZFVuaXQiLCJjb2xvciIsIlVwbG9hZFNwZWVkIiwidXBsb2FkVW5pdCIsIlNwZWVkIiwidXBsb2FkIiwiZGF0YSIsIkZhc3QiLCJqc29uIiwiZXJyb3IiLCJzZXRFcnJvciIsInNldERhdGEiLCJzZXRJc0RvbmUiLCJleGl0Iiwid3JpdGUiLCJsb29rdXAiLCJjb2RlIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1lYXN1cmVVcGxvYWQiLCJmb3JFYWNoIiwicmVzdWx0IiwidXBsb2FkZWQiLCJjYXRjaCIsImVycm9yXyIsIm1lc3NhZ2UiLCJ1bmRlZmluZWQiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInVpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmNvbnN0IHtwcm9taXNlczogZG5zfSA9IHJlcXVpcmUoJ2RucycpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3Qge3VzZVN0YXRlLCB1c2VFZmZlY3R9ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IHtCb3gsIFRleHQsIE5ld2xpbmUsIHVzZUFwcCwgdXNlU3Rkb3V0fSA9IHJlcXVpcmUoJ2luaycpO1xuY29uc3QgU3Bpbm5lciA9IHJlcXVpcmUoJ2luay1zcGlubmVyJykuZGVmYXVsdDtcbmNvbnN0IGFwaSA9IHJlcXVpcmUoJy4vYXBpLmpzJyk7XG5jb25zdCB7Y29udmVydFRvTXBic30gPSByZXF1aXJlKCcuL3V0aWxpdGllcy5qcycpO1xuXG5jb25zdCBGaXhlZFNwYWNlciA9ICh7c2l6ZX0pID0+IChcblx0PD57JyAnLnJlcGVhdChzaXplKX08Lz5cbik7XG5cbmNvbnN0IEVycm9yTWVzc2FnZSA9ICh7dGV4dH0pID0+IChcblx0PEJveD5cblx0XHQ8VGV4dCBib2xkIGNvbG9yPVwicmVkXCI+XG5cdFx0XHTigLpcblx0XHRcdDxGaXhlZFNwYWNlciBzaXplPXsxfS8+XG5cdFx0PC9UZXh0PlxuXHRcdDxUZXh0IGRpbUNvbG9yPlxuXHRcdFx0e3RleHR9XG5cdFx0PC9UZXh0PlxuXHRcdDxOZXdsaW5lIGNvdW50PXsyfS8+XG5cdDwvQm94PlxuKTtcblxuY29uc3QgU3BhY2VyID0gKHtzaW5nbGVMaW5lfSkgPT4ge1xuXHRpZiAoc2luZ2xlTGluZSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cmV0dXJuIChcblx0XHQ8VGV4dD5cblx0XHRcdDxOZXdsaW5lIGNvdW50PXsxfS8+XG5cdFx0PC9UZXh0PlxuXHQpO1xufTtcblxuY29uc3QgRG93bmxvYWRTcGVlZCA9ICh7aXNEb25lLCBkb3dubG9hZFNwZWVkLCB1cGxvYWRTcGVlZCwgZG93bmxvYWRVbml0fSA9IHt9KSA9PiB7XG5cdGNvbnN0IGNvbG9yID0gKGlzRG9uZSB8fCB1cGxvYWRTcGVlZCkgPyAnZ3JlZW4nIDogJ2N5YW4nO1xuXG5cdHJldHVybiAoXG5cdFx0PFRleHQgY29sb3I9e2NvbG9yfT5cblx0XHRcdHtkb3dubG9hZFNwZWVkfVxuXHRcdFx0PEZpeGVkU3BhY2VyIHNpemU9ezF9Lz5cblx0XHRcdDxUZXh0IGRpbUNvbG9yPntkb3dubG9hZFVuaXR9PC9UZXh0PlxuXHRcdFx0PEZpeGVkU3BhY2VyIHNpemU9ezF9Lz5cblx0XHRcdOKGk1xuXHRcdDwvVGV4dD5cblx0KTtcbn07XG5cbmNvbnN0IFVwbG9hZFNwZWVkID0gKHtpc0RvbmUsIHVwbG9hZFNwZWVkLCB1cGxvYWRVbml0fSA9IHt9KSA9PiB7XG5cdGNvbnN0IGNvbG9yID0gaXNEb25lID8gJ2dyZWVuJyA6ICdjeWFuJztcblxuXHRpZiAodXBsb2FkU3BlZWQpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PFRleHQgY29sb3I9e2NvbG9yfT5cblx0XHRcdFx0e3VwbG9hZFNwZWVkfVxuXHRcdFx0XHQ8VGV4dCBkaW1Db2xvcj5cblx0XHRcdFx0XHR7YCAke3VwbG9hZFVuaXR9IOKGkWB9XG5cdFx0XHRcdDwvVGV4dD5cblx0XHRcdDwvVGV4dD5cblx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIDxUZXh0IGRpbUNvbG9yIGNvbG9yPXtjb2xvcn0+eycgLSBNYnBzIOKGkSd9PC9UZXh0Pjtcbn07XG5cbmNvbnN0IFNwZWVkID0gKHt1cGxvYWQsIGRhdGF9KSA9PiB1cGxvYWQgPyAoXG5cdDw+XG5cdFx0PERvd25sb2FkU3BlZWQgey4uLmRhdGF9Lz5cblx0XHQ8VGV4dCBkaW1Db2xvcj57JyAvICd9PC9UZXh0PlxuXHRcdDxVcGxvYWRTcGVlZCB7Li4uZGF0YX0vPlxuXHQ8Lz5cbikgOiAoPERvd25sb2FkU3BlZWQgey4uLmRhdGF9Lz4pO1xuXG5jb25zdCBGYXN0ID0gKHtzaW5nbGVMaW5lLCB1cGxvYWQsIGpzb259KSA9PiB7XG5cdGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuXHRjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZSh7fSk7XG5cdGNvbnN0IFtpc0RvbmUsIHNldElzRG9uZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cdGNvbnN0IHtleGl0fSA9IHVzZUFwcCgpO1xuXHRjb25zdCB7d3JpdGV9ID0gdXNlU3Rkb3V0KCk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHQoYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YXdhaXQgZG5zLmxvb2t1cCgnZmFzdC5jb20nKTtcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdHNldEVycm9yKGVycm9yLmNvZGUgPT09ICdFTk9URk9VTkQnID9cblx0XHRcdFx0XHQnUGxlYXNlIGNoZWNrIHlvdXIgaW50ZXJuZXQgY29ubmVjdGlvbicgOlxuXHRcdFx0XHRcdGBTb21ldGhpbmcgaGFwcGVuZWQgJHtKU09OLnN0cmluZ2lmeShlcnJvcil9YFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRleGl0KCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tYXJyYXktZm9yLWVhY2hcblx0XHRcdGFwaSh7bWVhc3VyZVVwbG9hZDogdXBsb2FkfSkuZm9yRWFjaChyZXN1bHQgPT4ge1xuXHRcdFx0XHRpZiAoIXVwbG9hZCkge1xuXHRcdFx0XHRcdGRlbGV0ZSByZXN1bHQudXBsb2FkZWQ7XG5cdFx0XHRcdFx0ZGVsZXRlIHJlc3VsdC51cGxvYWRVbml0O1xuXHRcdFx0XHRcdGRlbGV0ZSByZXN1bHQudXBsb2FkU3BlZWQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzZXREYXRhKHJlc3VsdCk7XG5cdFx0XHR9KS5jYXRjaChlcnJvcl8gPT4geyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByb21pc2UvcHJlZmVyLWF3YWl0LXRvLXRoZW5cblx0XHRcdFx0c2V0RXJyb3IoZXJyb3JfLm1lc3NhZ2UpO1xuXHRcdFx0XHRleGl0KCk7XG5cdFx0XHR9KTtcblx0XHR9KSgpO1xuXHR9LCBbZXhpdCwgdXBsb2FkXSk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRpZiAoZGF0YS5pc0RvbmUgfHwgKCF1cGxvYWQgJiYgZGF0YS51cGxvYWRTcGVlZCkpIHtcblx0XHRcdHNldElzRG9uZSh0cnVlKTtcblx0XHR9XG5cdH0sIFtkYXRhLmlzRG9uZSwgdXBsb2FkLCBkYXRhLnVwbG9hZFNwZWVkXSk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRpZiAoaXNEb25lKSB7XG5cdFx0XHRpZiAoanNvbikge1xuXHRcdFx0XHRkZWxldGUgZGF0YS5pc0RvbmU7XG5cdFx0XHRcdGRhdGEuZG93bmxvYWRTcGVlZCA9IGNvbnZlcnRUb01wYnMoZGF0YS5kb3dubG9hZFNwZWVkLCBkYXRhLmRvd25sb2FkVW5pdCk7XG5cdFx0XHRcdGRlbGV0ZSBkYXRhLmRvd25sb2FkVW5pdDtcblxuXHRcdFx0XHRpZiAodXBsb2FkKSB7XG5cdFx0XHRcdFx0ZGF0YS51cGxvYWRTcGVlZCA9IGNvbnZlcnRUb01wYnMoZGF0YS51cGxvYWRTcGVlZCwgZGF0YS51cGxvYWRVbml0KTtcblx0XHRcdFx0XHRkZWxldGUgZGF0YS51cGxvYWRVbml0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0d3JpdGUoSlNPTi5zdHJpbmdpZnkoZGF0YSwgdW5kZWZpbmVkLCAnXFx0JykpO1xuXHRcdFx0fVxuXG5cdFx0XHRleGl0KCk7XG5cdFx0fVxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG5cdH0sIFtpc0RvbmUsIGV4aXRdKTtcblxuXHRpZiAoZXJyb3IpIHtcblx0XHRyZXR1cm4gPEVycm9yTWVzc2FnZSB0ZXh0PXtlcnJvcn0vPjtcblx0fVxuXG5cdGlmIChqc29uKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gKFxuXHRcdDw+XG5cdFx0XHQ8U3BhY2VyIHNpbmdsZUxpbmU9e3NpbmdsZUxpbmV9Lz5cblx0XHRcdDxCb3g+XG5cdFx0XHRcdHshaXNEb25lICYmIChcblx0XHRcdFx0XHQ8PlxuXHRcdFx0XHRcdFx0eyFzaW5nbGVMaW5lICYmIDxUZXh0PjxGaXhlZFNwYWNlciBzaXplPXsyfS8+PC9UZXh0Pn1cblx0XHRcdFx0XHRcdDxUZXh0IGNvbG9yPVwiY3lhblwiPjxTcGlubmVyLz48L1RleHQ+XG5cdFx0XHRcdFx0XHQ8VGV4dD48Rml4ZWRTcGFjZXIgc2l6ZT17MX0vPjwvVGV4dD5cblx0XHRcdFx0XHQ8Lz5cblx0XHRcdFx0KX1cblx0XHRcdFx0e2lzRG9uZSAmJiA8VGV4dD48Rml4ZWRTcGFjZXIgc2l6ZT17NH0vPjwvVGV4dD59XG5cdFx0XHRcdHtPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPiAwICYmIDxTcGVlZCB1cGxvYWQ9e3VwbG9hZH0gZGF0YT17ZGF0YX0vPn1cblx0XHRcdDwvQm94PlxuXHRcdFx0PFNwYWNlciBzaW5nbGVMaW5lPXtzaW5nbGVMaW5lfS8+XG5cdFx0PC8+XG5cdCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZhc3Q7XG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLE1BQU07RUFBQ0EsUUFBUSxFQUFFQztBQUFYLElBQWtCQyxPQUFPLENBQUMsS0FBRCxDQUEvQjs7QUFDQSxNQUFNQyxLQUFLLEdBQUdELE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLE1BQU07RUFBQ0UsUUFBRDtFQUFXQztBQUFYLElBQXdCSCxPQUFPLENBQUMsT0FBRCxDQUFyQzs7QUFDQSxNQUFNO0VBQUNJLEdBQUQ7RUFBTUMsSUFBTjtFQUFZQyxPQUFaO0VBQXFCQyxNQUFyQjtFQUE2QkM7QUFBN0IsSUFBMENSLE9BQU8sQ0FBQyxLQUFELENBQXZEOztBQUNBLE1BQU1TLE9BQU8sR0FBR1QsT0FBTyxDQUFDLGFBQUQsQ0FBUCxDQUF1QlUsT0FBdkM7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHWCxPQUFPLENBQUMsVUFBRCxDQUFuQjs7QUFDQSxNQUFNO0VBQUNZO0FBQUQsSUFBa0JaLE9BQU8sQ0FBQyxnQkFBRCxDQUEvQjs7QUFFQSxNQUFNYSxXQUFXLEdBQUcsQ0FBQztFQUFDQztBQUFELENBQUQsa0JBQ25CLDBDQUFHLElBQUlDLE1BQUosQ0FBV0QsSUFBWCxDQUFILENBREQ7O0FBSUEsTUFBTUUsWUFBWSxHQUFHLENBQUM7RUFBQ0M7QUFBRCxDQUFELGtCQUNwQixvQkFBQyxHQUFELHFCQUNDLG9CQUFDLElBQUQ7RUFBTSxJQUFJLE1BQVY7RUFBVyxLQUFLLEVBQUM7QUFBakIsMEJBRUMsb0JBQUMsV0FBRDtFQUFhLElBQUks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